{"ast":null,"code":"import React,{useEffect,useState}from'react';import ClientsService from'./ClientService';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";function ClientLister(){const[clients,setClients]=useState([]);const[searchTerm,setSearchTerm]=useState('');const[sortKey,setSortKey]=useState('name');const[filter,setFilter]=useState({address:'',email:''});useEffect(()=>{ClientsService.getAll().then(response=>setClients(response.data));},[]);const handleSearch=e=>setSearchTerm(e.target.value.toLowerCase());const handleSort=key=>setSortKey(key);const handleFilter=e=>{const{name,value}=e.target;setFilter(prev=>({...prev,[name]:value}));};const filteredClients=clients.filter(client=>client.name.toLowerCase().includes(searchTerm)&&(!filter.address||client.address.includes(filter.address))&&(!filter.email||client.email.includes(filter.email))).sort((a,b)=>a[sortKey]>b[sortKey]?1:-1);return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',justifyContent:'space-between'},children:[/*#__PURE__*/_jsx(\"input\",{placeholder:\"Search by name\",onChange:handleSearch}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>window.location.href='/client/new',children:\"Add New Client\"})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"input\",{name:\"address\",placeholder:\"Filter by Address\",onChange:handleFilter}),/*#__PURE__*/_jsx(\"input\",{name:\"email\",placeholder:\"Filter by Email\",onChange:handleFilter}),/*#__PURE__*/_jsxs(\"select\",{onChange:e=>handleSort(e.target.value),children:[/*#__PURE__*/_jsx(\"option\",{value:\"name\",children:\"Sort by Name\"}),/*#__PURE__*/_jsx(\"option\",{value:\"address\",children:\"Sort by Address\"}),/*#__PURE__*/_jsx(\"option\",{value:\"email\",children:\"Sort by Email\"})]})]}),/*#__PURE__*/_jsx(\"ul\",{children:filteredClients.map(client=>/*#__PURE__*/_jsxs(\"li\",{children:[client.name,\" - \",client.address,\" - \",client.email,/*#__PURE__*/_jsx(\"button\",{onClick:()=>window.location.href=`/client/edit/${client.clientId}`,children:\"Modify\"})]},client.clientId))})]});}export default ClientLister;","map":{"version":3,"names":["React","useEffect","useState","ClientsService","jsx","_jsx","jsxs","_jsxs","ClientLister","clients","setClients","searchTerm","setSearchTerm","sortKey","setSortKey","filter","setFilter","address","email","getAll","then","response","data","handleSearch","e","target","value","toLowerCase","handleSort","key","handleFilter","name","prev","filteredClients","client","includes","sort","a","b","children","style","display","justifyContent","placeholder","onChange","onClick","window","location","href","map","clientId"],"sources":["C:/Users/Antosz/my-api-frontend/src/ClientF/ClientLister.js"],"sourcesContent":["import React, { useEffect, useState } from 'react';\r\nimport ClientsService from './ClientService';\r\n\r\nfunction ClientLister() {\r\n  const [clients, setClients] = useState([]);\r\n  const [searchTerm, setSearchTerm] = useState('');\r\n  const [sortKey, setSortKey] = useState('name');\r\n  const [filter, setFilter] = useState({ address: '', email: '' });\r\n\r\n  useEffect(() => {\r\n    ClientsService.getAll().then((response) => setClients(response.data));\r\n  }, []);\r\n\r\n  const handleSearch = (e) => setSearchTerm(e.target.value.toLowerCase());\r\n\r\n  const handleSort = (key) => setSortKey(key);\r\n\r\n  const handleFilter = (e) => {\r\n    const { name, value } = e.target;\r\n    setFilter((prev) => ({ ...prev, [name]: value }));\r\n  };\r\n\r\n  const filteredClients = clients\r\n    .filter((client) =>\r\n      client.name.toLowerCase().includes(searchTerm) &&\r\n      (!filter.address || client.address.includes(filter.address)) &&\r\n      (!filter.email || client.email.includes(filter.email))\r\n    )\r\n    .sort((a, b) => (a[sortKey] > b[sortKey] ? 1 : -1));\r\n\r\n  return (\r\n    <div>\r\n      <div style={{ display: 'flex', justifyContent: 'space-between' }}>\r\n        <input placeholder=\"Search by name\" onChange={handleSearch} />\r\n        <button onClick={() => window.location.href = '/client/new'}>Add New Client</button>\r\n      </div>\r\n      <div>\r\n        <input\r\n          name=\"address\"\r\n          placeholder=\"Filter by Address\"\r\n          onChange={handleFilter}\r\n        />\r\n        <input\r\n          name=\"email\"\r\n          placeholder=\"Filter by Email\"\r\n          onChange={handleFilter}\r\n        />\r\n        <select onChange={(e) => handleSort(e.target.value)}>\r\n          <option value=\"name\">Sort by Name</option>\r\n          <option value=\"address\">Sort by Address</option>\r\n          <option value=\"email\">Sort by Email</option>\r\n        </select>\r\n      </div>\r\n      <ul>\r\n        {filteredClients.map((client) => (\r\n          <li key={client.clientId}>\r\n            {client.name} - {client.address} - {client.email}\r\n            <button onClick={() => window.location.href = `/client/edit/${client.clientId}`}>Modify</button>\r\n          </li>\r\n        ))}\r\n      </ul>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default ClientLister;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}