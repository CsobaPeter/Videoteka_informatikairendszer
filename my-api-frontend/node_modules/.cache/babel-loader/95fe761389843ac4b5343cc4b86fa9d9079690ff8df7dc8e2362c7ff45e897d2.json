{"ast":null,"code":"import React,{useEffect,useState}from'react';import MediasService from'./MediaService';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";function MediaLister(){const[medias,setMedias]=useState([]);const[searchTerm,setSearchTerm]=useState('');const[sortKey,setSortKey]=useState('name');const[filter,setFilter]=useState({genre:'',type:'',rating:''});useEffect(()=>{MediasService.getAll().then(response=>setMedias(response.data));},[]);const handleSearch=e=>setSearchTerm(e.target.value.toLowerCase());const handleSort=key=>setSortKey(key);const handleFilter=e=>{const{name,value}=e.target;setFilter(prev=>({...prev,[name]:value}));};const filteredMedia=medias.filter(media=>media.name.toLowerCase().includes(searchTerm)&&(!filter.genre||media.genre===filter.genre)&&(!filter.type||media.type===filter.type)&&(!filter.rating||media.rating===parseInt(filter.rating))).sort((a,b)=>a[sortKey]>b[sortKey]?1:-1);return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',justifyContent:'space-between'},children:[/*#__PURE__*/_jsx(\"input\",{placeholder:\"Search by name\",onChange:handleSearch}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>window.location.href='/media/new',children:\"Add New Media\"})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"select\",{name:\"genre\",onChange:handleFilter,children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",children:\"All Genres\"}),/*#__PURE__*/_jsx(\"option\",{value:\"Genre1\",children:\"Genre1\"}),/*#__PURE__*/_jsx(\"option\",{value:\"Genre2\",children:\"Genre2\"})]}),/*#__PURE__*/_jsxs(\"select\",{name:\"type\",onChange:handleFilter,children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",children:\"All Types\"}),/*#__PURE__*/_jsx(\"option\",{value:\"DVD\",children:\"DVD\"}),/*#__PURE__*/_jsx(\"option\",{value:\"VHS\",children:\"VHS\"}),/*#__PURE__*/_jsx(\"option\",{value:\"BluRay\",children:\"BluRay\"})]}),/*#__PURE__*/_jsx(\"input\",{type:\"number\",name:\"rating\",placeholder:\"Rating\",onChange:handleFilter}),/*#__PURE__*/_jsxs(\"select\",{onChange:e=>handleSort(e.target.value),children:[/*#__PURE__*/_jsx(\"option\",{value:\"name\",children:\"Sort by Name\"}),/*#__PURE__*/_jsx(\"option\",{value:\"genre\",children:\"Sort by Genre\"}),/*#__PURE__*/_jsx(\"option\",{value:\"type\",children:\"Sort by Type\"}),/*#__PURE__*/_jsx(\"option\",{value:\"rating\",children:\"Sort by Rating\"})]})]}),/*#__PURE__*/_jsx(\"ul\",{children:filteredMedia.map(media=>/*#__PURE__*/_jsxs(\"li\",{children:[media.name,\" - \",media.genre,\" - \",media.type,\" - Rating: \",media.rating,/*#__PURE__*/_jsx(\"button\",{onClick:()=>window.location.href=`/media/edit/${media.mediaId}`,children:\"Modify\"})]},media.mediaId))})]});}export default MediaLister;","map":{"version":3,"names":["React","useEffect","useState","MediasService","jsx","_jsx","jsxs","_jsxs","MediaLister","medias","setMedias","searchTerm","setSearchTerm","sortKey","setSortKey","filter","setFilter","genre","type","rating","getAll","then","response","data","handleSearch","e","target","value","toLowerCase","handleSort","key","handleFilter","name","prev","filteredMedia","media","includes","parseInt","sort","a","b","children","style","display","justifyContent","placeholder","onChange","onClick","window","location","href","map","mediaId"],"sources":["C:/Users/Antosz/my-api-frontend/src/Media/MediaLister.js"],"sourcesContent":["import React, { useEffect, useState } from 'react';\r\nimport MediasService from './MediaService';\r\n\r\nfunction MediaLister() {\r\n  const [medias, setMedias] = useState([]);\r\n  const [searchTerm, setSearchTerm] = useState('');\r\n  const [sortKey, setSortKey] = useState('name');\r\n  const [filter, setFilter] = useState({ genre: '', type: '', rating: '' });\r\n\r\n  useEffect(() => {\r\n    MediasService.getAll().then((response) => setMedias(response.data));\r\n  }, []);\r\n\r\n  const handleSearch = (e) => setSearchTerm(e.target.value.toLowerCase());\r\n\r\n  const handleSort = (key) => setSortKey(key);\r\n\r\n  const handleFilter = (e) => {\r\n    const { name, value } = e.target;\r\n    setFilter((prev) => ({ ...prev, [name]: value }));\r\n  };\r\n\r\n  const filteredMedia = medias\r\n    .filter((media) =>\r\n      media.name.toLowerCase().includes(searchTerm) &&\r\n      (!filter.genre || media.genre === filter.genre) &&\r\n      (!filter.type || media.type === filter.type) &&\r\n      (!filter.rating || media.rating === parseInt(filter.rating))\r\n    )\r\n    .sort((a, b) => (a[sortKey] > b[sortKey] ? 1 : -1));\r\n\r\n  return (\r\n    <div>\r\n      <div style={{ display: 'flex', justifyContent: 'space-between' }}>\r\n        <input placeholder=\"Search by name\" onChange={handleSearch} />\r\n        <button onClick={() => window.location.href = '/media/new'}>Add New Media</button>\r\n      </div>\r\n      <div>\r\n        <select name=\"genre\" onChange={handleFilter}>\r\n          <option value=\"\">All Genres</option>\r\n          <option value=\"Genre1\">Genre1</option>\r\n          <option value=\"Genre2\">Genre2</option>\r\n        </select>\r\n        <select name=\"type\" onChange={handleFilter}>\r\n          <option value=\"\">All Types</option>\r\n          <option value=\"DVD\">DVD</option>\r\n          <option value=\"VHS\">VHS</option>\r\n          <option value=\"BluRay\">BluRay</option>\r\n        </select>\r\n        <input\r\n          type=\"number\"\r\n          name=\"rating\"\r\n          placeholder=\"Rating\"\r\n          onChange={handleFilter}\r\n        />\r\n        <select onChange={(e) => handleSort(e.target.value)}>\r\n          <option value=\"name\">Sort by Name</option>\r\n          <option value=\"genre\">Sort by Genre</option>\r\n          <option value=\"type\">Sort by Type</option>\r\n          <option value=\"rating\">Sort by Rating</option>\r\n        </select>\r\n      </div>\r\n      <ul>\r\n        {filteredMedia.map((media) => (\r\n          <li key={media.mediaId}>\r\n            {media.name} - {media.genre} - {media.type} - Rating: {media.rating}\r\n            <button onClick={() => window.location.href = `/media/edit/${media.mediaId}`}>Modify</button>\r\n          </li>\r\n        ))}\r\n      </ul>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default MediaLister;"],"mappings":"AAAA,MAAO,CAAAA,KAAK,EAAIC,SAAS,CAAEC,QAAQ,KAAQ,OAAO,CAClD,MAAO,CAAAC,aAAa,KAAM,gBAAgB,CAAC,OAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,yBAE3C,QAAS,CAAAC,WAAWA,CAAA,CAAG,CACrB,KAAM,CAACC,MAAM,CAAEC,SAAS,CAAC,CAAGR,QAAQ,CAAC,EAAE,CAAC,CACxC,KAAM,CAACS,UAAU,CAAEC,aAAa,CAAC,CAAGV,QAAQ,CAAC,EAAE,CAAC,CAChD,KAAM,CAACW,OAAO,CAAEC,UAAU,CAAC,CAAGZ,QAAQ,CAAC,MAAM,CAAC,CAC9C,KAAM,CAACa,MAAM,CAAEC,SAAS,CAAC,CAAGd,QAAQ,CAAC,CAAEe,KAAK,CAAE,EAAE,CAAEC,IAAI,CAAE,EAAE,CAAEC,MAAM,CAAE,EAAG,CAAC,CAAC,CAEzElB,SAAS,CAAC,IAAM,CACdE,aAAa,CAACiB,MAAM,CAAC,CAAC,CAACC,IAAI,CAAEC,QAAQ,EAAKZ,SAAS,CAACY,QAAQ,CAACC,IAAI,CAAC,CAAC,CACrE,CAAC,CAAE,EAAE,CAAC,CAEN,KAAM,CAAAC,YAAY,CAAIC,CAAC,EAAKb,aAAa,CAACa,CAAC,CAACC,MAAM,CAACC,KAAK,CAACC,WAAW,CAAC,CAAC,CAAC,CAEvE,KAAM,CAAAC,UAAU,CAAIC,GAAG,EAAKhB,UAAU,CAACgB,GAAG,CAAC,CAE3C,KAAM,CAAAC,YAAY,CAAIN,CAAC,EAAK,CAC1B,KAAM,CAAEO,IAAI,CAAEL,KAAM,CAAC,CAAGF,CAAC,CAACC,MAAM,CAChCV,SAAS,CAAEiB,IAAI,GAAM,CAAE,GAAGA,IAAI,CAAE,CAACD,IAAI,EAAGL,KAAM,CAAC,CAAC,CAAC,CACnD,CAAC,CAED,KAAM,CAAAO,aAAa,CAAGzB,MAAM,CACzBM,MAAM,CAAEoB,KAAK,EACZA,KAAK,CAACH,IAAI,CAACJ,WAAW,CAAC,CAAC,CAACQ,QAAQ,CAACzB,UAAU,CAAC,GAC5C,CAACI,MAAM,CAACE,KAAK,EAAIkB,KAAK,CAAClB,KAAK,GAAKF,MAAM,CAACE,KAAK,CAAC,GAC9C,CAACF,MAAM,CAACG,IAAI,EAAIiB,KAAK,CAACjB,IAAI,GAAKH,MAAM,CAACG,IAAI,CAAC,GAC3C,CAACH,MAAM,CAACI,MAAM,EAAIgB,KAAK,CAAChB,MAAM,GAAKkB,QAAQ,CAACtB,MAAM,CAACI,MAAM,CAAC,CAC7D,CAAC,CACAmB,IAAI,CAAC,CAACC,CAAC,CAAEC,CAAC,GAAMD,CAAC,CAAC1B,OAAO,CAAC,CAAG2B,CAAC,CAAC3B,OAAO,CAAC,CAAG,CAAC,CAAG,CAAC,CAAE,CAAC,CAErD,mBACEN,KAAA,QAAAkC,QAAA,eACElC,KAAA,QAAKmC,KAAK,CAAE,CAAEC,OAAO,CAAE,MAAM,CAAEC,cAAc,CAAE,eAAgB,CAAE,CAAAH,QAAA,eAC/DpC,IAAA,UAAOwC,WAAW,CAAC,gBAAgB,CAACC,QAAQ,CAAEtB,YAAa,CAAE,CAAC,cAC9DnB,IAAA,WAAQ0C,OAAO,CAAEA,CAAA,GAAMC,MAAM,CAACC,QAAQ,CAACC,IAAI,CAAG,YAAa,CAAAT,QAAA,CAAC,eAAa,CAAQ,CAAC,EAC/E,CAAC,cACNlC,KAAA,QAAAkC,QAAA,eACElC,KAAA,WAAQyB,IAAI,CAAC,OAAO,CAACc,QAAQ,CAAEf,YAAa,CAAAU,QAAA,eAC1CpC,IAAA,WAAQsB,KAAK,CAAC,EAAE,CAAAc,QAAA,CAAC,YAAU,CAAQ,CAAC,cACpCpC,IAAA,WAAQsB,KAAK,CAAC,QAAQ,CAAAc,QAAA,CAAC,QAAM,CAAQ,CAAC,cACtCpC,IAAA,WAAQsB,KAAK,CAAC,QAAQ,CAAAc,QAAA,CAAC,QAAM,CAAQ,CAAC,EAChC,CAAC,cACTlC,KAAA,WAAQyB,IAAI,CAAC,MAAM,CAACc,QAAQ,CAAEf,YAAa,CAAAU,QAAA,eACzCpC,IAAA,WAAQsB,KAAK,CAAC,EAAE,CAAAc,QAAA,CAAC,WAAS,CAAQ,CAAC,cACnCpC,IAAA,WAAQsB,KAAK,CAAC,KAAK,CAAAc,QAAA,CAAC,KAAG,CAAQ,CAAC,cAChCpC,IAAA,WAAQsB,KAAK,CAAC,KAAK,CAAAc,QAAA,CAAC,KAAG,CAAQ,CAAC,cAChCpC,IAAA,WAAQsB,KAAK,CAAC,QAAQ,CAAAc,QAAA,CAAC,QAAM,CAAQ,CAAC,EAChC,CAAC,cACTpC,IAAA,UACEa,IAAI,CAAC,QAAQ,CACbc,IAAI,CAAC,QAAQ,CACba,WAAW,CAAC,QAAQ,CACpBC,QAAQ,CAAEf,YAAa,CACxB,CAAC,cACFxB,KAAA,WAAQuC,QAAQ,CAAGrB,CAAC,EAAKI,UAAU,CAACJ,CAAC,CAACC,MAAM,CAACC,KAAK,CAAE,CAAAc,QAAA,eAClDpC,IAAA,WAAQsB,KAAK,CAAC,MAAM,CAAAc,QAAA,CAAC,cAAY,CAAQ,CAAC,cAC1CpC,IAAA,WAAQsB,KAAK,CAAC,OAAO,CAAAc,QAAA,CAAC,eAAa,CAAQ,CAAC,cAC5CpC,IAAA,WAAQsB,KAAK,CAAC,MAAM,CAAAc,QAAA,CAAC,cAAY,CAAQ,CAAC,cAC1CpC,IAAA,WAAQsB,KAAK,CAAC,QAAQ,CAAAc,QAAA,CAAC,gBAAc,CAAQ,CAAC,EACxC,CAAC,EACN,CAAC,cACNpC,IAAA,OAAAoC,QAAA,CACGP,aAAa,CAACiB,GAAG,CAAEhB,KAAK,eACvB5B,KAAA,OAAAkC,QAAA,EACGN,KAAK,CAACH,IAAI,CAAC,KAAG,CAACG,KAAK,CAAClB,KAAK,CAAC,KAAG,CAACkB,KAAK,CAACjB,IAAI,CAAC,aAAW,CAACiB,KAAK,CAAChB,MAAM,cACnEd,IAAA,WAAQ0C,OAAO,CAAEA,CAAA,GAAMC,MAAM,CAACC,QAAQ,CAACC,IAAI,CAAG,eAAef,KAAK,CAACiB,OAAO,EAAG,CAAAX,QAAA,CAAC,QAAM,CAAQ,CAAC,GAFtFN,KAAK,CAACiB,OAGX,CACL,CAAC,CACA,CAAC,EACF,CAAC,CAEV,CAEA,cAAe,CAAA5C,WAAW","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}