{"ast":null,"code":"import React,{useEffect,useState}from'react';import BorrowsService from'./BorrowService';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";function BorrowLister(){const[borrows,setBorrows]=useState([]);const[searchTerm,setSearchTerm]=useState('');const[sortKey,setSortKey]=useState('borrowDate');const[filter,setFilter]=useState({clientId:'',mediaId:'',returned:''});useEffect(()=>{BorrowsService.getAll().then(response=>setBorrows(response.data));},[]);const handleSearch=e=>setSearchTerm(e.target.value.toLowerCase());const handleSort=key=>setSortKey(key);const handleFilter=e=>{const{name,value}=e.target;setFilter(prev=>({...prev,[name]:value}));};const filteredBorrows=borrows.filter(borrow=>(!filter.clientId||borrow.clientId.includes(filter.clientId))&&(!filter.mediaId||borrow.mediaId.includes(filter.mediaId))&&(!filter.returned||borrow.returned.toString()===filter.returned)).sort((a,b)=>a[sortKey]>b[sortKey]?1:-1);return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',justifyContent:'space-between'},children:[/*#__PURE__*/_jsx(\"input\",{placeholder:\"Search by client ID\",onChange:handleSearch}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>window.location.href='/borrow/new',children:\"Add New Borrow\"})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"input\",{name:\"clientId\",placeholder:\"Filter by Client ID\",onChange:handleFilter}),/*#__PURE__*/_jsx(\"input\",{name:\"mediaId\",placeholder:\"Filter by Media ID\",onChange:handleFilter}),/*#__PURE__*/_jsxs(\"select\",{name:\"returned\",onChange:handleFilter,children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",children:\"All\"}),/*#__PURE__*/_jsx(\"option\",{value:\"true\",children:\"Returned\"}),/*#__PURE__*/_jsx(\"option\",{value:\"false\",children:\"Not Returned\"})]}),/*#__PURE__*/_jsxs(\"select\",{onChange:e=>handleSort(e.target.value),children:[/*#__PURE__*/_jsx(\"option\",{value:\"borrowDate\",children:\"Sort by Borrow Date\"}),/*#__PURE__*/_jsx(\"option\",{value:\"returnDate\",children:\"Sort by Return Date\"})]})]}),/*#__PURE__*/_jsx(\"ul\",{children:filteredBorrows.map(borrow=>/*#__PURE__*/_jsxs(\"li\",{children:[\"Client ID: \",borrow.clientId,\" - Media ID: \",borrow.mediaId,\" - Borrowed: \",borrow.borrowDate,\" - Returned: \",borrow.returned?'Yes':'No',/*#__PURE__*/_jsx(\"button\",{onClick:()=>window.location.href=`/borrow/edit/${borrow.borrowId}`,children:\"Modify\"})]},borrow.borrowId))})]});}export default BorrowLister;","map":{"version":3,"names":["React","useEffect","useState","BorrowsService","jsx","_jsx","jsxs","_jsxs","BorrowLister","borrows","setBorrows","searchTerm","setSearchTerm","sortKey","setSortKey","filter","setFilter","clientId","mediaId","returned","getAll","then","response","data","handleSearch","e","target","value","toLowerCase","handleSort","key","handleFilter","name","prev","filteredBorrows","borrow","includes","toString","sort","a","b","children","style","display","justifyContent","placeholder","onChange","onClick","window","location","href","map","borrowDate","borrowId"],"sources":["C:/Users/Antosz/my-api-frontend/src/Borrow/BorrowLister.js"],"sourcesContent":["import React, { useEffect, useState } from 'react';\r\nimport BorrowsService from './BorrowService';\r\n\r\nfunction BorrowLister() {\r\n  const [borrows, setBorrows] = useState([]);\r\n  const [searchTerm, setSearchTerm] = useState('');\r\n  const [sortKey, setSortKey] = useState('borrowDate');\r\n  const [filter, setFilter] = useState({ clientId: '', mediaId: '', returned: '' });\r\n\r\n  useEffect(() => {\r\n    BorrowsService.getAll().then((response) => setBorrows(response.data));\r\n  }, []);\r\n\r\n  const handleSearch = (e) => setSearchTerm(e.target.value.toLowerCase());\r\n\r\n  const handleSort = (key) => setSortKey(key);\r\n\r\n  const handleFilter = (e) => {\r\n    const { name, value } = e.target;\r\n    setFilter((prev) => ({ ...prev, [name]: value }));\r\n  };\r\n\r\n  const filteredBorrows = borrows\r\n    .filter((borrow) =>\r\n      (!filter.clientId || borrow.clientId.includes(filter.clientId)) &&\r\n      (!filter.mediaId || borrow.mediaId.includes(filter.mediaId)) &&\r\n      (!filter.returned || borrow.returned.toString() === filter.returned)\r\n    )\r\n    .sort((a, b) => (a[sortKey] > b[sortKey] ? 1 : -1));\r\n\r\n  return (\r\n    <div>\r\n      <div style={{ display: 'flex', justifyContent: 'space-between' }}>\r\n        <input placeholder=\"Search by client ID\" onChange={handleSearch} />\r\n        <button onClick={() => window.location.href = '/borrow/new'}>Add New Borrow</button>\r\n      </div>\r\n      <div>\r\n        <input\r\n          name=\"clientId\"\r\n          placeholder=\"Filter by Client ID\"\r\n          onChange={handleFilter}\r\n        />\r\n        <input\r\n          name=\"mediaId\"\r\n          placeholder=\"Filter by Media ID\"\r\n          onChange={handleFilter}\r\n        />\r\n        <select name=\"returned\" onChange={handleFilter}>\r\n          <option value=\"\">All</option>\r\n          <option value=\"true\">Returned</option>\r\n          <option value=\"false\">Not Returned</option>\r\n        </select>\r\n        <select onChange={(e) => handleSort(e.target.value)}>\r\n          <option value=\"borrowDate\">Sort by Borrow Date</option>\r\n          <option value=\"returnDate\">Sort by Return Date</option>\r\n        </select>\r\n      </div>\r\n      <ul>\r\n        {filteredBorrows.map((borrow) => (\r\n          <li key={borrow.borrowId}>\r\n            Client ID: {borrow.clientId} - Media ID: {borrow.mediaId} - Borrowed: {borrow.borrowDate} - Returned: {borrow.returned ? 'Yes' : 'No'}\r\n            <button onClick={() => window.location.href = `/borrow/edit/${borrow.borrowId}`}>Modify</button>\r\n          </li>\r\n        ))}\r\n      </ul>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default BorrowLister;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}