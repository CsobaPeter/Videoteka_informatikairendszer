{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Antosz\\\\my-api-frontend\\\\src\\\\Borrow\\\\BorrowLister.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport BorrowService from './BorrowService';\nimport ClientService from '../ClientF/ClientService';\nimport MediaService from '../Media/MediaService';\nimport ListHeader from '../components/ListHeader';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst BorrowLister = () => {\n  _s();\n  const [borrows, setBorrows] = useState([]);\n  const [clients, setClients] = useState([]);\n  const [medias, setMedias] = useState([]);\n  const [filters, setFilters] = useState({\n    borrowDate: '',\n    returnDate: ''\n  });\n  const [sortConfig, setSortConfig] = useState({\n    key: 'borrowDate',\n    direction: 'asc'\n  });\n  useEffect(() => {\n    BorrowService.getAll().then(response => setBorrows(response.data));\n    ClientService.getAll().then(response => setClients(response.data));\n    MediaService.getAll().then(response => setMedias(response.data));\n  }, []);\n  const getClientName = clientId => {\n    var _clients$find;\n    return ((_clients$find = clients.find(client => client.clientId === clientId)) === null || _clients$find === void 0 ? void 0 : _clients$find.name) || '';\n  };\n  const getMediaName = mediaId => {\n    var _medias$find;\n    return ((_medias$find = medias.find(media => media.mediaId === mediaId)) === null || _medias$find === void 0 ? void 0 : _medias$find.name) || '';\n  };\n  const handleDelete = borrowId => {\n    BorrowService.delete(borrowId).then(() => {\n      setBorrows(borrows.filter(borrow => borrow.borrowId !== borrowId));\n    }).catch(error => console.error(\"Error deleting borrow:\", error));\n  };\n  const handleFilterChange = (key, value) => setFilters(prev => ({\n    ...prev,\n    [key]: value\n  }));\n  const handleSort = key => setSortConfig(prev => ({\n    key,\n    direction: prev.key === key && prev.direction === 'asc' ? 'desc' : 'asc'\n  }));\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"list-page\",\n    children: [/*#__PURE__*/_jsxDEV(ListHeader, {\n      headers: [{\n        key: 'borrowDate',\n        label: 'Borrow Date'\n      }, {\n        key: 'returnDate',\n        label: 'Return Date'\n      }, {\n        key: 'clientId',\n        label: 'Client Name'\n      }, {\n        key: 'mediaId',\n        label: 'Media Name'\n      }],\n      onFilter: handleFilterChange,\n      onSort: handleSort\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 40,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"table\",\n      children: borrows.map(borrow => /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"table-row\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"form-field\",\n          children: borrow.borrowDate\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 53,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"form-field\",\n          children: borrow.returnDate\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 54,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"form-field\",\n          children: getClientName(borrow.clientId)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 55,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"form-field\",\n          children: getMediaName(borrow.mediaId)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 56,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"form-field\",\n          children: [/*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"modify-button\",\n            children: \"Edit\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 58,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"delete-button\",\n            onClick: () => handleDelete(borrow.borrowId),\n            children: \"Delete\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 59,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 57,\n          columnNumber: 13\n        }, this)]\n      }, borrow.borrowId, true, {\n        fileName: _jsxFileName,\n        lineNumber: 52,\n        columnNumber: 11\n      }, this))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 39,\n    columnNumber: 5\n  }, this);\n};\n_s(BorrowLister, \"RkrWhFS5O8QfjsdMCU+qTTy0DnY=\");\n_c = BorrowLister;\nexport default BorrowLister;\nvar _c;\n$RefreshReg$(_c, \"BorrowLister\");","map":{"version":3,"names":["React","useState","useEffect","BorrowService","ClientService","MediaService","ListHeader","jsxDEV","_jsxDEV","BorrowLister","_s","borrows","setBorrows","clients","setClients","medias","setMedias","filters","setFilters","borrowDate","returnDate","sortConfig","setSortConfig","key","direction","getAll","then","response","data","getClientName","clientId","_clients$find","find","client","name","getMediaName","mediaId","_medias$find","media","handleDelete","borrowId","delete","filter","borrow","catch","error","console","handleFilterChange","value","prev","handleSort","className","children","headers","label","onFilter","onSort","fileName","_jsxFileName","lineNumber","columnNumber","map","onClick","_c","$RefreshReg$"],"sources":["C:/Users/Antosz/my-api-frontend/src/Borrow/BorrowLister.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport BorrowService from './BorrowService';\r\nimport ClientService from '../ClientF/ClientService';\r\nimport MediaService from '../Media/MediaService';\r\nimport ListHeader from '../components/ListHeader';\r\n\r\nconst BorrowLister = () => {\r\n  const [borrows, setBorrows] = useState([]);\r\n  const [clients, setClients] = useState([]);\r\n  const [medias, setMedias] = useState([]);\r\n  const [filters, setFilters] = useState({\r\n    borrowDate: '',\r\n    returnDate: ''\r\n  });\r\n  const [sortConfig, setSortConfig] = useState({ key: 'borrowDate', direction: 'asc' });\r\n\r\n  useEffect(() => {\r\n    BorrowService.getAll().then(response => setBorrows(response.data));\r\n    ClientService.getAll().then(response => setClients(response.data));\r\n    MediaService.getAll().then(response => setMedias(response.data));\r\n  }, []);\r\n\r\n  const getClientName = (clientId) => clients.find(client => client.clientId === clientId)?.name || '';\r\n  const getMediaName = (mediaId) => medias.find(media => media.mediaId === mediaId)?.name || '';\r\n\r\n  const handleDelete = (borrowId) => {\r\n    BorrowService.delete(borrowId).then(() => {\r\n      setBorrows(borrows.filter(borrow => borrow.borrowId !== borrowId));\r\n    }).catch(error => console.error(\"Error deleting borrow:\", error));\r\n  };\r\n\r\n  const handleFilterChange = (key, value) => setFilters(prev => ({ ...prev, [key]: value }));\r\n  const handleSort = (key) => setSortConfig(prev => ({\r\n    key,\r\n    direction: prev.key === key && prev.direction === 'asc' ? 'desc' : 'asc'\r\n  }));\r\n\r\n  return (\r\n    <div className=\"list-page\">\r\n      <ListHeader\r\n        headers={[\r\n          { key: 'borrowDate', label: 'Borrow Date' },\r\n          { key: 'returnDate', label: 'Return Date' },\r\n          { key: 'clientId', label: 'Client Name' },\r\n          { key: 'mediaId', label: 'Media Name' }\r\n        ]}\r\n        onFilter={handleFilterChange}\r\n        onSort={handleSort}\r\n      />\r\n      <div className=\"table\">\r\n        {borrows.map(borrow => (\r\n          <div key={borrow.borrowId} className=\"table-row\">\r\n            <div className=\"form-field\">{borrow.borrowDate}</div>\r\n            <div className=\"form-field\">{borrow.returnDate}</div>\r\n            <div className=\"form-field\">{getClientName(borrow.clientId)}</div>\r\n            <div className=\"form-field\">{getMediaName(borrow.mediaId)}</div>\r\n            <div className=\"form-field\">\r\n              <button className=\"modify-button\">Edit</button>\r\n              <button className=\"delete-button\" onClick={() => handleDelete(borrow.borrowId)}>Delete</button>\r\n            </div>\r\n          </div>\r\n        ))}\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default BorrowLister;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}